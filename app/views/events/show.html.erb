<p id="notice"><%= notice %></p>

<h1>Art Hack Day :: <%= @event.city %></h1>
<p><%= @event.theme %></p>
<p>Art Hack Day is part happening, part hackathon</p>
<p>For hackers whose medium is art and artists whose medium is tech</p>

<h2>About</h2>
<p><%= @event.about %></p>

<h2>Projects</h2>
<p>TBA</p>

<h2>When &amp; Where</h2>

<p>
  Hacking begins <%= @event.hackathon_start.strftime("%A, %b %d, %I:%M %p") %>
</p>
<% #use @event.hackathon_end for hack ending %>

<p>
  Closing exhibit, open to the public begins <%= @event.show_start.strftime("%A, %b %d, %I:%M %p") %>
</p>
<% #use @event.show_end for closing time %>

<p>
  @ <%= @event.venue.name %><br>
  <%= @event.venue.address %>, <%= @event.venue.city %> 
</p>

<div id="venue_map"></div>

<h2>Attend</h2>
<p>Do you have mad skills? Register to attend the full weekend and collaborate on projects: 
  <% if @event.hack_rsvp_url? %>
    <a href="<%= @event.hack_rsvp_url %>">Register to hack</a>
  <% else %>
    <a href="https://www.youtube.com/watch?v=JvsvpRZFh2Q">Coming soon</a>
  <% end %>
</p>

<p>Join the Art Hack Day teams on <%= @event.show_start.strftime("%A, %b %d starting at %I:%M %p") %> for a closing exhibition, live performances, and party:
  <% if @event.show_rsvp_url? %>
    <a href="<%= @event.show_rsvp_url %>">Register to party</a>
  <% else %>
    <a href="https://www.youtube.com/watch?v=JvsvpRZFh2Q">Coming soon</a>
  <% end %>
</p>

<h2>Participants</h2>
<p>TBA</p>

<h2>Press</h2>
<% if @event.press_blurbs.any? %>
<ul class="press_blurbs">
  <% @event.press_blurbs.each do |blurb| %>
    <li>"<%= blurb.headline %>" - <a href="<%= blurb.source_url %>"><%= blurb.source_name %></a></li>
  <% end %>
</ul>
<% else %>
  <p>Stay tuned!</p>
<% end %>

<h2>Partners</h2>
<p>TBA</p>

<% if organizer_signed_in? %>
  <%= link_to 'Edit', edit_event_path(@event) %> |
<% end %>
<%= link_to 'Home', events_path %>

<script type="text/javascript">
  $(document).ready(function() {
    if ($('#venue_map')) {
      var map = L.map('venue_map').setView([<%= @event.venue.latitude %>, <%= @event.venue.longitude %>], 14);

      // create the tile layer with correct attribution
      var osmUrl='http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';
      var osmAttrib='Map data Â© OpenStreetMap contributors';
      var osm = new L.TileLayer(osmUrl, {minZoom: 8, maxZoom: 16, attribution: osmAttrib});

      var marker = L.marker([<%= @event.venue.latitude %>, <%= @event.venue.longitude %>]).addTo(map);
      map.addLayer(osm);
    }
  });
</script>